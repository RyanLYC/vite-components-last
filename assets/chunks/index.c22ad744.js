import{w as N}from"./withInstall.ee1edaa3.js";import{d as R,ai as Z,h as f,g as $,c as l,F as D,r as c,e as n,k as B,ae as V,aj as T,L as F,l as r,b as y,n as I,ak as U,O as _,o as s,X as j}from"./framework.a7ae395d.js";import"./index.0f72eec1.js";import{C as L}from"./CloseCircleFilled.c635ad1e.js";import{a as S,E as X}from"./EyeOutlined.5717d6de.js";const q={key:0,class:"zg-input__prepend"},G={key:0,class:"zg-input__prefix"},H=["type","disabled","readonly","autocomplete","placeholder","autofocus","form"],J={key:1,class:"zg-input__append"},K=["disabled","readonly","autocomplete","placeholder","autofocus","form"],Q=R({name:"ZgInput",inheritAttrs:!1,__name:"Input",props:{type:{default:"text"},modelValue:{},size:{},disabled:{type:Boolean},clearable:{type:Boolean},showPassword:{type:Boolean},placeholder:{},readonly:{type:Boolean},autocomplete:{default:"off"},autofocus:{type:Boolean},form:{}},emits:["update:modelValue","input","change","focus","blur","clear"],setup(P,{expose:M,emit:o}){const t=P,h=Z(),p=f(!1),u=f(!1),a=f(t.modelValue),d=f(),g=$(()=>t.clearable&&!t.disabled&&!!a.value&&p.value),m=$(()=>t.showPassword&&!t.disabled&&!!a.value),w=()=>{o("update:modelValue",a.value),o("input",a.value)},k=e=>{p.value=!0,o("focus",e)},O=()=>{a.value="",o("update:modelValue",""),o("clear"),o("input",""),o("change","")},b=()=>{u.value=!u.value},z=()=>{o("change",a.value)},C=e=>{p.value=!1,o("blur",e)};M({ref:d});const E=()=>{},A=async()=>{await _(),d.value.focus()};return(e,i)=>(s(),l("div",{class:I(["zg-input",{[`zg-input--${e.type}`]:e.type,[`zg-input--${e.size}`]:e.size,"is-disabled":e.disabled,"is-prepend":e.$slots.prepend,"is-append":e.$slots.append,"is-prefix":e.$slots.prefix,"is-suffix":e.$slots.suffix}])},[e.type!=="textarea"?(s(),l(D,{key:0},[e.$slots.prepend?(s(),l("div",q,[c(e.$slots,"prepend")])):n("",!0),B("div",{class:I(["zg-input__wrapper",{"is-focus":p.value}])},[e.$slots.prefix?(s(),l("span",G,[c(e.$slots,"prefix")])):n("",!0),V(B("input",F({class:"zg-input__inner",type:e.showPassword?u.value?"text":"password":e.type,ref_key:"inputRef",ref:d},r(h),{disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,"onUpdate:modelValue":i[0]||(i[0]=v=>a.value=v),onInput:w,onFocus:k,onChange:z,onBlur:C}),null,16,H),[[T,a.value]]),e.$slots.suffix||g.value||m.value?(s(),l("span",{key:1,class:"zg-input__suffix",onClick:A},[c(e.$slots,"suffix"),g.value?(s(),y(r(L),{key:0,class:"zg-input__clear",onClick:O,onMousedown:j(E,["prevent"])},null,8,["onMousedown"])):n("",!0),m.value&&u.value?(s(),y(r(S),{key:1,class:"zg-input__password",onClick:b})):n("",!0),m.value&&!u.value?(s(),y(r(X),{key:2,class:"zg-input__password",onClick:b})):n("",!0)])):n("",!0)],2),e.$slots.append?(s(),l("div",J,[c(e.$slots,"append")])):n("",!0)],64)):V((s(),l("textarea",F({key:1,class:"zg-textarea__wrapper"},r(h),{ref_key:"inputRef",ref:d,disabled:e.disabled,readonly:e.readonly,autocomplete:e.autocomplete,placeholder:e.placeholder,autofocus:e.autofocus,form:e.form,"onUpdate:modelValue":i[1]||(i[1]=v=>a.value=v),onInput:w,onChange:z,onFocus:k,onBlur:C}),null,16,K)),[[U,a.value]])],2))}}),se=N(Q);export{se as Z};
