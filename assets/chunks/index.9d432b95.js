import{w as h}from"./withInstall.ee1edaa3.js";import{d as r,h as y,x as _,U as w,c as u,r as l,o as c,b as C,w as f,L as B,V as T,T as H,M as $,g as b,k as i,H as m,l as V,n as g,a as k,t as P,ae as x,af as I}from"./framework.a7ae395d.js";import"./index.0f72eec1.js";import{D as z}from"./DownOutlined.c9f6fb18.js";const v=Symbol("collapseContextKey"),N={class:"zg-collapse"},O=r({name:"ZgCollapse",__name:"Collapse",props:{modelValue:{},accordion:{type:Boolean}},emits:["update:modelValue","change"],setup(d,{emit:s}){const a=d,e=y(a.modelValue);return _(()=>a.modelValue,()=>{e.value=a.modelValue}),a.accordion&&e.value.length>1&&console.warn("accordion mode should only have one acitve item"),w(v,{activeNames:e,handleItemClick:t=>{let o=[...e.value];if(a.accordion)o=[e.value[0]===t?"":t],e.value=o;else{const p=o.indexOf(t);p>-1?o.splice(p,1):o.push(t),e.value=o}s("update:modelValue",o),s("change",o)}}),(t,o)=>(c(),u("div",N,[l(t.$slots,"default")]))}}),U=h(O),Z=r({name:"ElCollapseTransition",__name:"CollapseTransition",setup(d){const s=e=>{e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},a={beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){e.dataset.oldOverflow=e.style.overflow,e.scrollHeight!==0?e.style.maxHeight=`${e.scrollHeight}px`:e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},enterCancelled(e){s(e)},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){e.scrollHeight!==0&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){s(e)},leaveCancelled(e){s(e)}};return(e,n)=>(c(),C(H,B({name:"collapse-transition"},T(a)),{default:f(()=>[l(e.$slots,"default")]),_:3},16))}}),D=["id"],E={class:"zg-collapse-item__wrapper"},S=["id"],L=r({name:"ZgCollapseItem",__name:"CollapseItem",props:{name:{},title:{},disabled:{type:Boolean}},setup(d){const s=d,a=$(v),e=b(()=>a==null?void 0:a.activeNames.value.includes(s.name)),n=()=>{s.disabled||a==null||a.handleItemClick(s.name)};return(t,o)=>(c(),u("div",{class:g(["zg-collapse-item",{"is-disabled":t.disabled}])},[i("div",{class:g(["zg-collapse-item__header",{"is-disabled":t.disabled,"is-active":e.value}]),id:`item-header-${t.name}`,onClick:n},[l(t.$slots,"title",{},()=>[k(P(t.title),1)]),m(V(z),{class:"header-angle"})],10,D),m(Z,null,{default:f(()=>[x(i("div",E,[i("div",{class:"zg-collapse-item__content",id:`item-content-${t.name}`},[l(t.$slots,"default")],8,S)],512),[[I,e.value]])]),_:3})],2))}}),q=h(L);export{q as Z,U as a};
